@using Salotto.App.Common.Extensions
@using Salotto.Resources

@model Salotto.App.Models.MainViewModelBase
@{
    var loggedUser = User.Logged();
    
}

<header id="page-topbar">
    <div class="navbar-header">
        <div class="d-flex align-items-center">

            <partial name="pv_x_logo" />
            
            <div class="d-none d-lg-block">
                <div class="position-relative">
                    @if (Model.ShowSearchBox)
                    {
                        <input type="text" class="form-control ms-3 italic" 
                               style="border:0"
                               placeholder="@AppStrings.Placeholder_SearchFor">
                    }
                    else
                    {
                        <span class="ps-3 bold">@Model.PageTitle</span>
                    }
                </div>
            </div>
        </div>
        
        
        <div class="d-flex">

            <!-- Search box for small screens -->
            @if (Model.ShowSearchBox)
            {
                <div class="dropdown d-inline-block d-lg-none ms-2">
                    <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-search-dropdown"
                            data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="fal fa-search"></i>
                    </button>
                    <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"
                         aria-labelledby="page-header-search-dropdown">

                        <form class="p-3">
                            <div class="m-0">
                                <div class="input-group">
                                    <input type="text" class="form-control" placeholder="@AppStrings.Placeholder_SearchFor">
                                    <div class="input-group-append">
                                        <button class="btn btn-primary" type="submit"><i class="fa fa-search"></i></button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            }

            <!-- User box -->
            <partial name="pv_x_logged" />

            <!-- Language switcher -->
            <partial name="pv_x_language" model="Model.Settings.SupportedCultures()" />
        </div>
    </div>
</header>