function __autoCompleter_options_builder(n,t,i,r,u,f,e,o,s,h,c){var l={maxHeight:e,placeholder:n,requestDelay:t,url:function(n){return $.trim(n).length>0?i.replace("$",n):""},getValue:function(n){if(!r.startsWith("{"))return n[r];return r.replace(/\{(.+?)\}/g,function(t){return t=t.replace(/[{}]/g,""),t===r?value:n[t]})},list:{match:{enabled:!0},maxNumberOfElements:f,onChooseEvent:function(){var n=$(o).getSelectedItemData()[u];$(s).val(n);$(h)[0].click()}},template:{type:"custom",method:function(n,t){var f=t,i,u;return c.length>0?(i=/\{(.+?)\}/g,u=c.replace(i,function(i){return i=i.replace(/[{}]/g,""),i===r?n:t[i]}),u):n}}};$(o).on("input",function(){var n=$(s).val();n.length>0&&($(this).val(""),$(s).val(""))});$(o).on("blur",function(){var n=$(s).val();n.length===0&&($(this).val(""),$(s).val(""))});return l}var AutoCompleter=function(n){return n.Configuration=function(n){function u(){var f,i,e,r,u;if(n.dataType==="xml"&&(n.getValue||(n.getValue=function(n){return $(n).text()}),n.list||(n.list={}),n.list.sort||(n.list.sort={}),n.list.sort.method=function(t,i){return(t=n.getValue(t),i=n.getValue(i),t<i)?-1:t>i?1:0},n.list.match||(n.list.match={}),n.list.match.method=function(n,t){return n.search(t)>-1?!0:!1}),n.categories!==undefined&&n.categories instanceof Array){for(f=[],i=0,e=n.categories.length;i<e;i+=1){r=n.categories[i];for(u in t.categories[0])r[u]===undefined&&(r[u]=t.categories[0][u]);f.push(r)}n.categories=f}}function f(){function i(n,t){var u=n||{};for(var r in n)t[r]!==undefined&&t[r]!==null&&(typeof t[r]!="object"||t[r]instanceof Array?u[r]=t[r]:i(n[r],t[r]));return t.data!==undefined&&t.data!==null&&typeof t.data=="object"&&(u.data=t.data),u}t=i(t,n)}function e(){var i,r,u;t.url!=="list-required"&&typeof t.url!="function"&&(i=t.url,t.url=function(){return i});t.ajaxSettings.url!==undefined&&typeof t.ajaxSettings.url!="function"&&(i=t.ajaxSettings.url,t.ajaxSettings.url=function(){return i});typeof t.listLocation=="string"&&(r=t.listLocation,t.listLocation=t.dataType.toUpperCase()==="XML"?function(n){return $(n).find(r)}:function(n){return n[r]});typeof t.getValue=="string"&&(u=t.getValue,t.getValue=function(n){return n[u]});n.categories!==undefined&&(t.categoriesAssigned=!0)}function o(){t.ajaxSettings=n.ajaxSettings!==undefined&&typeof n.ajaxSettings=="object"?n.ajaxSettings:{}}function s(n){return t[n]!==undefined&&t[n]!==null?!0:!1}function i(n,i){function u(t,i){for(var f in i)t[f]===undefined&&n.log("Property '"+f+"' does not exist in AutoCompleter options API."),typeof t[f]=="object"&&$.inArray(f,r)===-1&&u(t[f],i[f])}u(t,i)}var t={data:"list-required",url:"list-required",dataType:"json",listLocation:function(n){return n},xmlElementName:"",getValue:function(n){return n},autocompleteOff:!0,placeholder:!1,ajaxCallback:function(){},matchResponseProperty:!1,list:{sort:{enabled:!1,method:function(n,i){return(n=t.getValue(n),i=t.getValue(i),n<i)?-1:n>i?1:0}},maxNumberOfElements:10,hideOnEmptyPhrase:!0,match:{enabled:!1,caseSensitive:!1,method:function(n,t){return n.search(t)>-1?!0:!1}},showAnimation:{type:"normal",time:400,callback:function(){}},hideAnimation:{type:"normal",time:400,callback:function(){}},onClickEvent:function(){},onSelectItemEvent:function(){},onLoadEvent:function(){},onChooseEvent:function(){},onKeyEnterEvent:function(){},onMouseOverEvent:function(){},onMouseOutEvent:function(){},onShowListEvent:function(){},onHideListEvent:function(){}},highlightPhrase:!0,theme:"",cssClasses:"",maxHeight:400,minCharNumber:2,requestDelay:400,adjustWidth:!0,ajaxSettings:{},preparePostData:function(n){return n},loggerEnabled:!1,template:"",categoriesAssigned:!1,categories:[{maxNumberOfElements:4}]},r=["ajaxSettings","template"];this.get=function(n){return t[n]};this.equals=function(n,i){return s(n)&&t[n]===i?!0:!1};this.checkDataUrlProperties=function(){return t.url==="list-required"&&t.data==="list-required"?!1:!0};this.checkRequiredProperties=function(){for(var n in t)if(t[n]==="required")return logger.error("Option "+n+" must be defined"),!1;return!0};this.printPropertiesThatDoesntExist=function(n,t){i(n,t)};u();f();t.loggerEnabled===!0&&i(console,n);o();e()},n}(AutoCompleter||{});AutoCompleter=function(n){return n.Logger=function(){this.error=function(n){console.log("ERROR: "+n)};this.warning=function(n){console.log("WARNING: "+n)}},n}(AutoCompleter||{});AutoCompleter=function(n){return n.Constants=function(){var n={CONTAINER_CLASS:"easy-autocomplete-container",CONTAINER_ID:"eac-container-",WRAPPER_CSS_CLASS:"easy-autocomplete"};this.getValue=function(t){return n[t]}},n}(AutoCompleter||{});AutoCompleter=function(n){return n.ListBuilderService=function(n,t){function i(t,i){function f(){var u={},r;return t.xmlElementName!==undefined&&(u.xmlElementName=t.xmlElementName),t.listLocation!==undefined?r=t.listLocation:n.get("listLocation")!==undefined&&(r=n.get("listLocation")),r!==undefined?typeof r=="string"?u.data=$(i).find(r):typeof r=="function"&&(u.data=r(i)):u.data=i,u}function e(){var n={};return t.listLocation!==undefined?typeof t.listLocation=="string"?n.data=i[t.listLocation]:typeof t.listLocation=="function"&&(n.data=t.listLocation(i)):n.data=i,n}var r={},u;return r=n.get("dataType").toUpperCase()==="XML"?f():e(),t.header!==undefined&&(r.header=t.header),t.maxNumberOfElements!==undefined&&(r.maxNumberOfElements=t.maxNumberOfElements),n.get("list").maxNumberOfElements!==undefined&&(r.maxListSize=n.get("list").maxNumberOfElements),t.getValue!==undefined?typeof t.getValue=="string"?(u=t.getValue,r.getValue=function(n){return n[u]}):typeof t.getValue=="function"&&(r.getValue=t.getValue):r.getValue=n.get("getValue"),r}function r(t){var i=[];return t.xmlElementName===undefined&&(t.xmlElementName=n.get("xmlElementName")),$(t.data).find(t.xmlElementName).each(function(){i.push(this)}),i}this.init=function(t){var r=[],i={};return i.data=n.get("listLocation")(t),i.getValue=n.get("getValue"),i.maxListSize=n.get("list").maxNumberOfElements,r.push(i),r};this.updateCategories=function(t,r){var u,f;if(n.get("categoriesAssigned"))for(t=[],u=0;u<n.get("categories").length;u+=1)f=i(n.get("categories")[u],r),t.push(f);return t};this.convertXml=function(t){if(n.get("dataType").toUpperCase()==="XML")for(var i=0;i<t.length;i+=1)t[i].data=r(t[i]);return t};this.processData=function(i,r){for(var u=0,f=i.length;u<f;u+=1)i[u].data=t(n,i[u],r);return i};this.checkIfDataExists=function(n){for(var t=0,i=n.length;t<i;t+=1)if(n[t].data!==undefined&&n[t].data instanceof Array&&n[t].data.length>0)return!0;return!1}},n}(AutoCompleter||{});AutoCompleter=function(n){return n.proccess=function(t,i,r){function o(n,i){var u=[],e="",r,o;if(t.get("list").match.enabled)for(r=0,o=n.length;r<o;r+=1)e=t.get("getValue")(n[r]),f(e,i)&&u.push(n[r]);else u=n;return u}function f(n,i){return t.get("list").match.caseSensitive||(typeof n=="string"&&(n=n.toLowerCase()),i=i.toLowerCase()),t.get("list").match.method(n,i)?!0:!1}function s(n){return i.maxNumberOfElements!==undefined&&n.length>i.maxNumberOfElements&&(n=n.slice(0,i.maxNumberOfElements)),n}function h(n){return t.get("list").sort.enabled&&n.sort(t.get("list").sort.method),n}n.proccess.match=f;var u=i.data,e=r;return u=o(u,e),u=s(u),h(u)},n}(AutoCompleter||{});AutoCompleter=function(n){return n.Template=function(n){var t={basic:{type:"basic",method:function(n){return n},cssClass:""},description:{type:"description",fields:{description:"description"},method:function(n){return n+" - description"},cssClass:"eac-description"},iconLeft:{type:"iconLeft",fields:{icon:""},method:function(n){return n},cssClass:"eac-icon-left"},iconRight:{type:"iconRight",fields:{iconSrc:""},method:function(n){return n},cssClass:"eac-icon-right"},links:{type:"links",fields:{link:""},method:function(n){return n},cssClass:""},custom:{type:"custom",method:function(){},cssClass:""}},i=function(n){var i=n.fields,r;return n.type==="description"?(r=t.description.method,typeof i.description=="string"?r=function(n,t){return n+" - <span>"+t[i.description]+"<\/span>"}:typeof i.description=="function"&&(r=function(n,t){return n+" - <span>"+i.description(t)+"<\/span>"}),r):n.type==="iconRight"?(typeof i.iconSrc=="string"?r=function(n,t){return n+"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"}:typeof i.iconSrc=="function"&&(r=function(n,t){return n+"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"}),r):n.type==="iconLeft"?(typeof i.iconSrc=="string"?r=function(n,t){return"<img class='eac-icon' src='"+t[i.iconSrc]+"' />"+n}:typeof i.iconSrc=="function"&&(r=function(n,t){return"<img class='eac-icon' src='"+i.iconSrc(t)+"' />"+n}),r):n.type==="links"?(typeof i.link=="string"?r=function(n,t){return"<a href='"+t[i.link]+"' >"+n+"<\/a>"}:typeof i.link=="function"&&(r=function(n,t){return"<a href='"+i.link(t)+"' >"+n+"<\/a>"}),r):n.type==="custom"?n.method:t.basic.method},r=function(n){return!n||!n.type?t.basic.method:n.type&&t[n.type]?i(n):t.basic.method},u=function(n){var i=function(){return""};return!n||!n.type?i:n.type&&t[n.type]?function(){var i=t[n.type].cssClass;return function(){return i}}():i};this.getTemplateClass=u(n);this.build=r(n)},n}(AutoCompleter||{});AutoCompleter=function(n){return n.main=function(t,i){function g(){if(u.length===0){a.error("Input field doesn't exist.");return}if(!r.checkDataUrlProperties()){a.error("One of options variables 'data' or 'url' must be defined.");return}if(!r.checkRequiredProperties()){a.error("Will not work without mentioned properties.");return}w();nt()}function w(){function n(){var i=$("<div>"),n=s.getValue("WRAPPER_CSS_CLASS");r.get("theme")&&r.get("theme")!==""&&(n+=" eac-"+r.get("theme"));r.get("cssClasses")&&r.get("cssClasses")!==""&&(n+=" "+r.get("cssClasses"));v.getTemplateClass()!==""&&(n+=" "+v.getTemplateClass());i.addClass(n);u.wrap(i);r.get("adjustWidth")===!0&&t()}function t(){var n=u.outerWidth()}function i(){u.unwrap()}function o(){var n=$("<div>").addClass(s.getValue("CONTAINER_CLASS")),t="auto",i=r.get("maxHeight");parseInt(i)>0&&(t=i+"px");n.attr("id",b()).prepend($("<ul style='max-height: "+t+";'>")),function(){n.on("show.eac",function(){var t,i;switch(r.get("list").showAnimation.type){case"slide":t=r.get("list").showAnimation.time;i=r.get("list").showAnimation.callback;n.find("ul").slideDown(t,i);break;case"fade":t=r.get("list").showAnimation.time;i=r.get("list").showAnimation.callback;n.find("ul").fadeIn(t);i;break;default:n.find("ul").show()}r.get("list").onShowListEvent()}).on("hide.eac",function(){var t,i;switch(r.get("list").hideAnimation.type){case"slide":t=r.get("list").hideAnimation.time;i=r.get("list").hideAnimation.callback;n.find("ul").slideUp(t,i);break;case"fade":t=r.get("list").hideAnimation.time;i=r.get("list").hideAnimation.callback;n.find("ul").fadeOut(t,i);break;default:n.find("ul").hide()}r.get("list").onHideListEvent()}).on("selectElement.eac",function(){n.find("ul li").removeClass("selected");n.find("ul li").eq(f).addClass("selected");r.get("list").onSelectItemEvent()}).on("loadElements.eac",function(t,i,o){var w="",y=n.find("ul"),p,s,b,h,c,k;for(y.empty().detach(),e=[],p=0,s=0,b=i.length;s<b;s+=1)if(h=i[s].data,h.length!==0)for(i[s].header!==undefined&&i[s].header.length>0&&y.append("<div class='eac-category' >"+i[s].header+"<\/div>"),c=0,k=h.length;c<k&&p<i[s].maxListSize;c+=1)w=$("<li><div class='eac-item'><\/div><\/li>"),function(){var t=c,n=p,e=i[s].getValue(h[t]);w.find(" > div").on("click",function(){u.val(e).trigger("change");f=n;l(n);r.get("list").onClickEvent();r.get("list").onChooseEvent()}).mouseover(function(){f=n;l(n);r.get("list").onMouseOverEvent()}).mouseout(function(){r.get("list").onMouseOutEvent()}).html(v.build(a(e,o),h[t]))}(),y.append(w),e.push(h[c]),p+=1;n.append(y);r.get("list").onLoadEvent()})}();u.after(n)}function c(){u.next("."+s.getValue("CONTAINER_CLASS")).remove()}function a(n,t){return r.get("highlightPhrase")&&t!==""?p(n,t):n}function y(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function p(n,t){var i=y(t);return(n+"").replace(new RegExp("("+i+")","gi"),"<b>$1<\/b>")}u.parent().hasClass(s.getValue("WRAPPER_CSS_CLASS"))&&(c(),i());n();o();h=$("#"+b());r.get("placeholder")&&u.attr("placeholder",r.get("placeholder"))}function b(){var n=u.attr("id");return s.getValue("CONTAINER_ID")+n}function nt(){function n(){d("autocompleteOff",!0)&&b();t();i();s();h();v();w()}function t(){u.focusout(function(){var i=u.val(),t,n,o;for(r.get("list").match.caseSensitive||(i=i.toLowerCase()),n=0,o=e.length;n<o;n+=1)if(t=r.get("getValue")(e[n]),r.get("list").match.caseSensitive||(t=t.toLowerCase()),t===i){f=n;l(f);return}})}function i(){u.off("keyup").keyup(function(n){function i(n){function e(){var n={},t=r.get("ajaxSettings")||{};for(var i in t)n[i]=t[i];return n}function s(n,t){return r.get("matchResponseProperty")!==!1?typeof r.get("matchResponseProperty")=="string"?t[r.get("matchResponseProperty")]===n:typeof r.get("matchResponseProperty")=="function"?r.get("matchResponseProperty")(t)===n:!0:!0}var f,i,t;n.length<r.get("minCharNumber")||(r.get("data")!=="list-required"&&(f=r.get("data"),i=o.init(f),i=o.updateCategories(i,f),i=o.processData(i,n),k(i,n),u.parent().find("li").length>0?p():c()),t=e(),(t.url===undefined||t.url==="")&&(t.url=r.get("url")),(t.dataType===undefined||t.dataType==="")&&(t.dataType=r.get("dataType")),t.url!==undefined&&t.url!=="list-required"&&(t.url=t.url(n),t.data=r.get("preparePostData")(t.data,n),$.ajax(t).done(function(t){var i=o.init(t);i=o.updateCategories(i,t);i=o.convertXml(i);s(n,t)&&(i=o.processData(i,n),k(i,n));o.checkIfDataExists(i)&&u.parent().find("li").length>0?p():c();r.get("ajaxCallback")()}).fail(function(){a.warning("Fail to load response data")}).always(function(){})))}switch(n.keyCode){case 27:c();tt();break;case 38:n.preventDefault();e.length>0&&f>0&&(f-=1,u.val(r.get("getValue")(e[f])),l(f));break;case 40:n.preventDefault();e.length>0&&f<e.length-1&&(f+=1,u.val(r.get("getValue")(e[f])),l(f));break;default:if(n.keyCode>40||n.keyCode===8){var t=u.val();r.get("list").hideOnEmptyPhrase===!0&&n.keyCode===8&&t===""?c():r.get("requestDelay")>0?(y!==undefined&&clearTimeout(y),y=setTimeout(function(){i(t)},r.get("requestDelay"))):i(t)}}})}function s(){u.on("keydown",function(n){n=n||window.event;var t=n.keyCode;if(t===38)return suppressKeypress=!0,!1}).keydown(function(n){n.keyCode===13&&f>-1&&(u.val(r.get("getValue")(e[f])),r.get("list").onKeyEnterEvent(),r.get("list").onChooseEvent(),f=-1,c(),n.preventDefault())})}function h(){u.off("keypress")}function v(){u.focus(function(){u.val()!==""&&e.length>0&&(f=-1,p())})}function w(){u.blur(function(){setTimeout(function(){f=-1;c()},250)})}function b(){u.attr("autocomplete","off")}n()}function p(){h.trigger("show.eac")}function c(){h.trigger("hide.eac")}function l(n){h.trigger("selectElement.eac",n)}function k(n,t){h.trigger("loadElements.eac",[n,t])}function tt(){u.trigger("blur")}var s=new n.Constants,r=new n.Configuration(i),a=new n.Logger,v=new n.Template(i.template),o=new n.ListBuilderService(r,n.proccess),d=r.equals,u=t,h="",e=[],f=-1,y;n.consts=s;this.getConstants=function(){return s};this.getConfiguration=function(){return r};this.getContainer=function(){return h};this.getSelectedItemIndex=function(){return f};this.getItems=function(){return e};this.getItemData=function(n){return e.length<n||e[n]===undefined?-1:e[n]};this.getSelectedItemData=function(){return this.getItemData(f)};this.build=function(){w()};this.init=function(){g()}},n.eacHandles=[],n.getHandle=function(t){return n.eacHandles[t]},n.inputHasId=function(n){return $(n).attr("id")!==undefined&&$(n).attr("id").length>0?!0:!1},n.assignRandomId=function(t){var i="";do i="eac-"+Math.floor(Math.random()*1e4);while($("#"+i).length!==0);elementId=n.consts.getValue("CONTAINER_ID")+i;$(t).attr("id",i)},n.setHandle=function(t,i){n.eacHandles[i]=t},n}(AutoCompleter||{}),function(n){n.fn.autoCompleter=function(t){return this.each(function(){var i=n(this),r=new AutoCompleter.main(i,t);AutoCompleter.inputHasId(i)||AutoCompleter.assignRandomId(i);r.init();AutoCompleter.setHandle(r,i.attr("id"))})};n.fn.getSelectedItemIndex=function(){var t=n(this).attr("id");return t!==undefined?AutoCompleter.getHandle(t).getSelectedItemIndex():-1};n.fn.getItems=function(){var t=n(this).attr("id");return t!==undefined?AutoCompleter.getHandle(t).getItems():-1};n.fn.getItemData=function(t){var i=n(this).attr("id");return i!==undefined&&t>-1?AutoCompleter.getHandle(i).getItemData(t):-1};n.fn.getSelectedItemData=function(){var t=n(this).attr("id");return t!==undefined?AutoCompleter.getHandle(t).getSelectedItemData():-1}}(jQuery);